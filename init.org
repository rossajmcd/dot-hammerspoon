#+property: header-args:lua :tangle yes
#+property: header-args :mkdirp yes :comments no
#+startup: indent

#+begin_src lua :exports none
-- DO NOT EDIT THIS FILE DIRECTLY
-- This is a file generated from a literate programing source file located at
-- https://github.com/rossputin/dot-hammerspoon/blob/master/init.org.
-- You should make any changes there and regenerate it from Emacs org-mode using C-c C-v t
#+end_src

#+title: My Hammerspoon config file
#+author: Ross McDonald

* This is my Hammerspoon config.

** Set up key chords and bindings
   
#+begin_src lua
hyper       = {"cmd","alt","ctrl"}
cmd_ctrl    = {"cmd","ctrl"}
#+end_src

** A simple welcome and help alert
   
#+begin_src lua
hs.hotkey.bind(hyper, "H", function()
    hs.alert.show("Hammerspoon config! Alt+F = Finder, Alt+E = Emacs, Alt+T = iTerm")
end)
#+end_src

** Application opening hotkeys

#+begin_src lua
hs.hotkey.bind(hyper, "F", open("Finder"))
hs.hotkey.bind(hyper, "T", open("iTerm"))
hs.hotkey.bind(hyper, "E", open("Emacs"))
hs.hotkey.bind(hyper, "M", function() hs.execute("screen") end)
#+end_src

** Mickey mouse window management

#+begin_src lua
hs.grid.setGrid('2x2')
hs.grid.setMargins('0x0')

function moveWindow(x, y, w, h)
	local win = hs.window.focusedWindow()
	local f = win:frame()
	local screen = win:screen()
	local max = screen:frame()

	f.x = max.x + (max.w*x)
	f.y = max.y + (max.h*y)
	f.w = max.w*w
	f.h = max.h*h
	win:setFrame(f)
end

--
-- bind hotkeys to grid

-- thirds (approx)
hs.hotkey.bind(cmd_ctrl,"q", function() moveWindow(0.0,0.0,0.3,1.0) end)
hs.hotkey.bind(cmd_ctrl,"w", function() moveWindow(0.4,0.0,0.3,1.0) end)
hs.hotkey.bind(cmd_ctrl,"e", function() moveWindow(0.7,0.0,0.3,1.0) end)

-- halves and fulls
hs.hotkey.bind(cmd_ctrl,"y", function() moveWindow(0.0,0.0,0.5,0.5) end)
hs.hotkey.bind(cmd_ctrl,"u", function() moveWindow(0.0,0.0,1.0,0.5) end)
hs.hotkey.bind(cmd_ctrl,"i", function() moveWindow(0.5,0.0,0.5,0.5) end)
hs.hotkey.bind(cmd_ctrl,"h", function() moveWindow(0.0,0.0,0.5,1.0) end)
hs.hotkey.bind(cmd_ctrl,"j", function() moveWindow(0.0,0.0,1.0,1.0) end)
hs.hotkey.bind(cmd_ctrl,"k", function() moveWindow(0.5,0.0,0.5,1.0) end)
hs.hotkey.bind(cmd_ctrl,"n", function() moveWindow(0.0,0.5,0.5,0.5) end)
hs.hotkey.bind(cmd_ctrl,"m", function() moveWindow(0.0,0.5,1.0,0.5) end)
hs.hotkey.bind(cmd_ctrl,",", function() moveWindow(0.5,0.5,0.5,0.5) end)
#+end_src

** Indicate the config has loaded properly

#+begin_src lua
hs.alert.show("Hammerspoon config loaded")
#+end_src
